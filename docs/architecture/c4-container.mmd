@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
title Containers - spring-saas-core
Container_Boundary(saascore, "spring-saas-core") {
    Container(api, "REST API", "Spring Web", "Controllers, DTOs")
    Container(app, "Application", "Use cases", "Tenant, User, Auth, Admin")
    Container(domain, "Domain", "Entities", "Tenant, User, Role, ABAC, Outbox")
    Container(adapters, "Adapters", "JPA, Redis, Rabbit", "Persistence, events")
}
System_Ext(postgres, "PostgreSQL")
System_Ext(redis, "Redis")
System_Ext(rabbit, "RabbitMQ")
Rel(api, app, "calls")
Rel(app, domain, "uses")
Rel(app, adapters, "uses")
Rel(adapters, postgres, "JDBC")
Rel(adapters, redis, "cache, rate limit")
Rel(adapters, rabbit, "events")
@enduml
